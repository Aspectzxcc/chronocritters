<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChronoCritters Roster</title>
</head>
<body>
    <h1>Player's Critter Roster</h1>
    <input type="text" id="playerId" placeholder="Enter Player ID" />
    <button onclick="fetchRoster()">Show Roster</button>
    <br><br>
    <button onclick="selectPreset('p1')">Show BlueOak's Roster</button>
    <button onclick="selectPreset('p2')">Show RedAsh's Roster</button>
    <div id="roster"></div>
    <script>
        function selectPreset(playerId) {
            document.getElementById('playerId').value = playerId;
            fetchRoster();
        }
        async function fetchRoster() {
            const playerId = document.getElementById('playerId').value;
            const query = `query($id: ID!) { getPlayer(id: $id) { roster { name type baseStats { health attack defense } } } }`;
            const response = await fetch('http://localhost:8080/graphql', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ query, variables: { id: playerId } })
            });
            const result = await response.json();
            const roster = result.data?.getPlayer?.roster || [];
            const rosterDiv = document.getElementById('roster');
            if (roster.length === 0) {
                rosterDiv.innerHTML = '<p>No critters found.</p>';
                return;
            }
            rosterDiv.innerHTML = '<ul>' + roster.map(critter =>
                `<li><strong>${critter.name}</strong> (${critter.type})<br>
                Health: ${critter.baseStats.health}, Attack: ${critter.baseStats.attack}, Defense: ${critter.baseStats.defense}</li>`
            ).join('') + '</ul>';
        }
    </script>
</body>
</html>